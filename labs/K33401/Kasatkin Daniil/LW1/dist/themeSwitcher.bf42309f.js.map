{"version":3,"sources":["themeSwitcher.js"],"names":["lightStyles","document","querySelectorAll","darkStyles","darkSchemeMedia","matchMedia","switcherRadios","window","setupSwitcher","savedScheme","getSavedScheme","currentRadio","querySelector","checked","forEach","radio","addEventListener","event","setScheme","target","value","setupScheme","systemScheme","getSystemScheme","scheme","switchMedia","clearScheme","saveScheme","lightMedia","darkMedia","link","media","darkScheme","matches","localStorage","getItem","setItem","removeItem"],"mappings":"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","file":"themeSwitcher.bf42309f.js","sourceRoot":"..","sourcesContent":["const lightStyles = document.querySelectorAll('link[rel=stylesheet][media*=prefers-color-scheme][media*=light]');\nconst darkStyles = document.querySelectorAll('link[rel=stylesheet][media*=prefers-color-scheme][media*=dark]');\nconst darkSchemeMedia = matchMedia('(prefers-color-scheme: dark)');\nconst switcherRadios = document.querySelectorAll('.switcher__radio');\n\nwindow.setupSwitcher = function setupSwitcher() {\n    const savedScheme = getSavedScheme();\n\n    if (savedScheme !== null) {\n        const currentRadio = document.querySelector(`.switcher__radio[value=${savedScheme}]`);\n        currentRadio.checked = true;\n    }\n\n    [...switcherRadios].forEach((radio) => {\n        radio.addEventListener('change', (event) => {\n            setScheme(event.target.value);\n        });\n    });\n}\n\nwindow.setupScheme = function setupScheme() {\n    const savedScheme = getSavedScheme();\n    const systemScheme = getSystemScheme();\n\n    if (savedScheme === null) return;\n\n    if (savedScheme !== systemScheme) {\n        setScheme(savedScheme);\n    }\n}\n\nwindow.setScheme = function setScheme(scheme) {\n    switchMedia(scheme);\n\n    if (scheme === 'auto') {\n        clearScheme();\n    } else {\n        saveScheme(scheme);\n    }\n}\n\nwindow.switchMedia = function switchMedia(scheme) {\n    let lightMedia;\n    let darkMedia;\n\n    if (scheme === 'auto') {\n        lightMedia = '(prefers-color-scheme: light)';\n        darkMedia = '(prefers-color-scheme: dark)';\n    } else {\n        lightMedia = (scheme === 'light') ? 'all' : 'not all';\n        darkMedia = (scheme === 'dark') ? 'all' : 'not all';\n    }\n\n    [...lightStyles].forEach((link) => {\n        link.media = lightMedia;\n    });\n\n    [...darkStyles].forEach((link) => {\n        link.media = darkMedia;\n    });\n}\n\nwindow.getSystemScheme = function getSystemScheme() {\n    const darkScheme = darkSchemeMedia.matches;\n\n    return darkScheme ? 'dark' : 'light';\n}\n\nwindow.getSavedScheme = function getSavedScheme() {\n    return localStorage.getItem('color-scheme');\n}\n\nwindow.saveScheme = function saveScheme(scheme) {\n    localStorage.setItem('color-scheme', scheme);\n}\n\nwindow.clearScheme = function clearScheme() {\n    localStorage.removeItem('color-scheme');\n}\n\nsetupSwitcher();\nsetupScheme();\n"]}